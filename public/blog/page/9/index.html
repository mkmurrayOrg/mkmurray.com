
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Mike Murray</title>
	<meta name="author" content="Mike Murray">

	
	<meta name="description" content="A while back, I went on a research binge about LINQ and Lambda Expressions in C# 3.0.&#160; In my research I also learned about the amazing &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="http://feeds.feedburner.com/mkmurray/" rel="alternate" title="Mike Murray" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>
	<link href='http://alexgorbatchev.com/pub/sh/current/styles/shCore.css' rel='stylesheet' type='text/css'/>
<link href='http://alexgorbatchev.com/pub/sh/current/styles/shThemeRDark.css' rel='stylesheet' type='text/css'/>
<script src='http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js' type='text/javascript'></script>
<script src='http://alexgorbatchev.com/pub/sh/current/scripts/shAutoloader.js' type='text/javascript'></script>
<script src='http://alexgorbatchev.com/pub/sh/current/scripts/shBrushCpp.js' type='text/javascript'></script>
<script src='http://alexgorbatchev.com/pub/sh/current/scripts/shBrushCSharp.js' type='text/javascript'></script>
<script src='http://alexgorbatchev.com/pub/sh/current/scripts/shBrushCss.js' type='text/javascript'></script>
<script src='http://alexgorbatchev.com/pub/sh/current/scripts/shBrushJScript.js' type='text/javascript'></script>
<script src='http://alexgorbatchev.com/pub/sh/current/scripts/shBrushPlain.js' type='text/javascript'></script>
<script src='http://alexgorbatchev.com/pub/sh/current/scripts/shBrushPowerShell.js' type='text/javascript'></script>
<script src='http://alexgorbatchev.com/pub/sh/current/scripts/shBrushRuby.js' type='text/javascript'></script>
<script src='http://alexgorbatchev.com/pub/sh/current/scripts/shBrushSql.js' type='text/javascript'></script>
<script src='http://alexgorbatchev.com/pub/sh/current/scripts/shBrushXml.js' type='text/javascript'></script>
<script type='text/javascript'>
     SyntaxHighlighter.config.bloggerMode = true;
     SyntaxHighlighter.all();
</script>

</head>

<body>
	<div class="container">
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner">


    <article class="post">
	<h1 class="title"><a href="/blog/2008/10/24/linq-lambda-expressions-and-iqueryables/">LINQ, Lambda Expressions, and IQueryables</a></h1>
	<div class="meta">
		<div class="date">








  


<time datetime="2008-10-24T17:19:00-06:00" pubdate data-updated="true">Oct 24<span>th</span>, 2008</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/-net/'>.NET</a>, <a class='category' href='/blog/categories/c-/'>C#</a>, <a class='category' href='/blog/categories/linq/'>LINQ</a>, <a class='category' href='/blog/categories/microsoft/'>Microsoft</a>


</div>
		
			<span class="comments"><a href="/blog/2008/10/24/linq-lambda-expressions-and-iqueryables/#disqus_thread">Comments</a></span>
		
	</div>
	<div class="entry-content">
		<div class='post'>
<p>A while back, I went on a research binge about LINQ and Lambda Expressions in C# 3.0.&#160; In my research I also learned about the amazing <font face="Courier New">IQueryable&lt;&gt;</font> generic.&#160; I was just recently reminded of this knowledge surge and figured it could probably benefit many people.</p>  <p>So here are some links I think you just might find as interesting as I do:</p>  <ul>   <li><a href="http://blogs.msdn.com/howard_dierking/archive/2007/01/18/lambda-lambda-lambda.aspx">Lambda, Lambda, Lambda</a></li>    <li><a href="http://blog.wekeroad.com/blog/linq-understanding-linq-vars-and-lambdas/">LINQ: Understanding LINQ Vars and Lambdas</a></li>    <li><a href="http://blog.wekeroad.com/blog/creating-in-queries-with-linq-to-sql/">Creating IN Queries with LINQ-to-SQL</a></li>    <li><a href="http://blog.wekeroad.com/blog/linq-gymnastics-creating-a-predictive-query-with-linq/">LINQ Gymnastics: Creating a Predictive Query with LINQ</a></li> </ul>  </div>

		
		
	</div>

</article>


    <article class="post">
	<h1 class="title"><a href="/blog/2008/10/24/ever-heard-of-partial-methods/">Ever Heard of Partial Methods?</a></h1>
	<div class="meta">
		<div class="date">








  


<time datetime="2008-10-24T15:42:00-06:00" pubdate data-updated="true">Oct 24<span>th</span>, 2008</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/-net/'>.NET</a>, <a class='category' href='/blog/categories/c-/'>C#</a>, <a class='category' href='/blog/categories/code-organization/'>Code Organization</a>, <a class='category' href='/blog/categories/conferences/'>Conferences</a>, <a class='category' href='/blog/categories/linq/'>LINQ</a>, <a class='category' href='/blog/categories/microsoft/'>Microsoft</a>, <a class='category' href='/blog/categories/new-technology/'>New Technology</a>, <a class='category' href='/blog/categories/visual-studio/'>Visual Studio</a>


</div>
		
			<span class="comments"><a href="/blog/2008/10/24/ever-heard-of-partial-methods/#disqus_thread">Comments</a></span>
		
	</div>
	<div class="entry-content">
		<div class='post'>
<p>I attended an <a href="https://msevents.microsoft.com/CUI/EventDetail.aspx?culture=en-US&amp;eventid=1032390917&amp;flag=3">MSDN Unleashed Event here in Salt Lake City yesterday</a> based mostly on the new bells and whistles in .NET 3.5 SP1 (and consequently Visual Studio 2008 SP1).&#160; I always enjoy the presentations from <a title="Rob Bagby&#39;s Blog" href="http://www.robbagby.com/">Rob Bagby</a>, as he is entertaining to listen to and he is a let&#8217;s-dive-into-the-code, forget-about-Powerpoint-slides kind of presenter.&#160; He is a <a href="http://msdn.microsoft.com/en-us/bb905078.aspx">Microsoft Developer Evangelist (click Role Descriptions on the right column of the page this link references)</a> for the Rocky Mountain states inland from the Pacific Coast.&#160; That&#8217;s just the way he rolls.</p>  <p>Anyway, he was trying to add some functionality to <a href="http://weblogs.asp.net/scottgu/archive/2007/12/14/new-asp-net-dynamic-data-support.aspx">ASP.NET Dynamic Data</a> for a demo he was showing during the event, and he mentioned a conversation he had with some of the developers at Redmond about the possibility of partial Properties.&#160; According to his words, the impression he got was that &quot;if partial Properties were added to C#, the whole CLR would catch fire&quot; or some other horrible catastrophe.&#160; But Rob did mention the little-known existence of partial Methods in C# 3.0, which caught my attention and sent me surfing.</p>  <p>See <a title="C# Partial Classes Can Enhance Code Organization" href="http://murrayon.net/2008/10/c-partial-classes-can-enhance-code.html">my last post about partial Classes</a> if you want some background to partial Methods.</p>  <p>The genesis of this new feature is much the same as that of partial Classes, which is primarily for Classes that are auto-generated by code generators in Visual Studio (mainly associated with the numerous designers incorporated into Visual Studio).&#160; In fact, it appears the addition of LINQ may be one reason for this new feature.</p> <span class='fullpost'> <p>Partial Methods seem to be a way to incorporate into your Classes methods that may or may not be implemented, kind of a way to stub out areas where another developer could inject specific logic they require into a pipeline of statements they didn&#8217;t write.&#160; Partial Methods can only reside in partial Classes, and can only have one declaration and up to one optional implementation.&#160; They must be <font face="Courier New">private</font>, have a <font face="Courier New">void</font> return value, and there are quite a few modifiers that cannot be used on a partial method.&#160; For a more comprehensive detailing of these restrictions (and explanations why), see this blog post by <a title="Bart De Smet&#39;s Blog" href="http://community.bartdesmet.net/blogs/bart/default.aspx">Bart De Smet</a> that I read to learn about this new feature:</p>  <p><a title="http://community.bartdesmet.net/blogs/bart/archive/2007/07/28/c-3-0-partial-methods-what-why-and-how.aspx" href="http://community.bartdesmet.net/blogs/bart/archive/2007/07/28/c-3-0-partial-methods-what-why-and-how.aspx">http://community.bartdesmet.net/blogs/bart/archive/2007/07/28/c-3-0-partial-methods-what-why-and-how.aspx</a></p>  <p>Apparently, LINQ-to-SQL makes use of this new language feature to allow the developer to plug their own business logic validation rules without modifying the auto-generated code directly.&#160; If you go to a LINQ-to-SQL generated Class, you will find a C# <font face="Courier New">region</font> named &quot;<font face="Courier New">Extensibility Method Definitions</font>,&quot; which are partial Method declarations (see first image below).&#160; This allows you to make a separate file that is a partial Class of the LINQ-to-SQL generated class and include an implementation for one of these partial Methods, which are by default unimplemented.&#160; It appears LINQ-to-SQL allows you to plug into some of the setters of the generated object Properties that map to columns in the original SQL database table.&#160; The following images are taken from Bart&#8217;s blog post and are LINQ-to-SQL generated objects based on some of the DB structure for <a href="http://msdn.microsoft.com/en-us/vsts2008/products/bb933758.aspx">Team Foundation Server</a>:</p>  <p>Here are some partial Method declarations in a LINQ-to-SQL generated Class called <font face="Courier New">BuildCoverage</font>:</p>  <p><img src="http://www.bartdesmet.net/images/C3.0partialmethodsWhatwhyandhow_CE94/image_12.png" /></p>  <p>And here is the view of the LINQ-to-SQL generated object in the designer so you can see that most of these partial Methods are based on the object&#8217;s Properties:</p>  <p><img src="http://www.bartdesmet.net/images/C3.0partialmethodsWhatwhyandhow_CE94/image_11.png" /></p>  <p>Here is a look at a Property setter calling these unimplemented partial Methods:</p>  <p><img height="300" alt="" src="http://lh6.ggpht.com/charliebrown928/SQJBYPObp4I/AAAAAAAAACI/AMWxncxDMH4/image%5B6%5D.png?imgmax=800" width="426" /> </p>  <p>And if you wanted to implement one of these partial Methods, you get nice intellisense from Visual Studio:</p>  <p><img height="390" alt="" src="http://lh6.ggpht.com/charliebrown928/SQJBYU4Ki7I/AAAAAAAAACM/sG09khAFfKY/image%5B14%5D.png?imgmax=800" width="431" /> </p>  <p>And I suppose this finished implementation of the partial Method would throw a <font face="Courier New">NotImplementedException</font> after the Property has already been modified? Hopefully this is where some of that LINQ-to-SQL transactional stuff kicks in&#8230;or perhaps Bart meant to implement the <font face="Courier New">OnAssemblyNameChanging</font> partial Method instead?</p>  <p><img height="313" alt="" src="http://lh3.ggpht.com/charliebrown928/SQJBYpve4lI/AAAAAAAAACQ/PsaT9nM4x6k/image%5B20%5D.png?imgmax=800" width="436" /> </p>  <p>This is definitely an interesting new feature in the C# language.&#160; I&#8217;ll have to keep my eye out for a really compelling use of this feature; I&#8217;m not very convinced this is the right way (or even the most common way) for using LINQ-to-SQL generated objects as if they were your Data Model objects and then insert your business logic in the above manner.&#160; Still, this is quite a thought provoking new feature.</p> </span>  </div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Esteban Araya</div>
<div class='content'>
Intersting stuff. I really like the idea of giving other people hooks into your code; I&#8217;m not sure partial methods are the best way to accomplish that.</div>
</div>
</div>

		
		
	</div>

</article>


    <article class="post">
	<h1 class="title"><a href="/blog/2008/10/24/c-partial-classes-can-enhance-code-organization/">C# Partial Classes Can Enhance Code Organization</a></h1>
	<div class="meta">
		<div class="date">








  


<time datetime="2008-10-24T14:23:00-06:00" pubdate data-updated="true">Oct 24<span>th</span>, 2008</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/-net/'>.NET</a>, <a class='category' href='/blog/categories/c-/'>C#</a>, <a class='category' href='/blog/categories/code-organization/'>Code Organization</a>, <a class='category' href='/blog/categories/microsoft/'>Microsoft</a>, <a class='category' href='/blog/categories/threading/'>Threading</a>, <a class='category' href='/blog/categories/ui/'>UI</a>, <a class='category' href='/blog/categories/visual-studio/'>Visual Studio</a>


</div>
		
			<span class="comments"><a href="/blog/2008/10/24/c-partial-classes-can-enhance-code-organization/#disqus_thread">Comments</a></span>
		
	</div>
	<div class="entry-content">
		<div class='post'>
<p>Many .NET developers are aware of the idea of partial Classes, as they have existed since .NET 2.0.&#160; The primary purpose is to allow you the developer to share claim on a C# Class with Visual Studio&#8217;s automated code generators (mainly used by the many designers included in Visual Studio), without the automated code generator stomping all over your code additions every time it runs.&#160; For instance, in a Windows Forms application, you get a code-behind Class where you can put your logic, properties, methods, and event handlers; it is a partial Class of the one Visual Studio&#8217;s Windows Form designer creates and manages for all the UI objects you dragged around in the designer.&#160; A good summarization of this feature is given by <a title="Bart De Smet&#39;s Blog" href="http://community.bartdesmet.net/blogs/bart/default.aspx">Bart De Smet</a>:</p>  <blockquote>   <p>&quot;In short, partial classes allow you to split the definition of a class across multiple files, or alternatively you could think about it as a code compilation unit separated over multiple files.&quot;</p> </blockquote>  <p>As another practical application of this feature, I have occasionally implemented a practice using partial Classes that I learned from a previous coworker.&#160; Occasionally you find yourself with a Class that is inescapably large.&#160; Perhaps it is a web service that has been in use for a while by customers or other groups within your company, and you can&#8217;t just deprecate the service very easily; so you just keep extending it and adding more web methods to it for additional, similar functionality.&#160; Another potential situation could be that you began designing a simple application all in one file but it grew to be a little bigger than expected, but it doesn&#8217;t quite merit a whole major redesign into appropriate classes.&#160; I know how this all sounds, but these scenarios aren&#8217;t exactly uncommon in real-world practice, where there are other factors in consideration.&#160; I suppose many would resort to <a href="http://msdn.microsoft.com/en-us/library/9a1ybwek.aspx">C# <font face="Courier New">regions</font></a>, but I&#8217;m not a fan of them as it really only gives the illusion that your code file is better grouped and somehow shorter.</p> <span class='fullpost'> <p>So if you need some decent semblance of organization in a messy class file with little effort, the partial Class feature can come to your rescue.&#160; You can basically create a partial Class file for each grouping of code that you would probably be putting in a C# <font face="Courier New">region</font>.&#160; For instance, a relatively small Windows Form application could be broken up into the following sub-files (all partial Classes of the same <font face="Courier New">MainForm</font> class):</p>  <ul>   <li><strong>MainForm.cs</strong> = contains the constructor and a few rare global enumerations, properties, or sub-classes </li>    <li><strong>MainForm.UI.cs</strong> = contains the event handlers and other supporting methods that interact directly with the UI </li>    <li><strong>MainForm.Processing.cs</strong> = contains the application logic designed to be spun off in a separate worker thread in order to keep the UI thread from blocking while waiting </li>    <li><strong>MainForm.Designer.cs</strong> = the auto-generated UI file from the Windows Form designer </li> </ul>  <p>Obviously you should try to architect your code better from the get-go, but perhaps what you are looking at is legacy code you have inherited from previous developers and the deadline is fast approaching.&#160; There are reasonable circumstances I can think of (and have encountered) where this quick &amp; dirty organization lets you keep an ounce of sanity, so that you can keep moving forward.</p> </span>  </div>

		
		
	</div>

</article>


    <article class="post">
	<h1 class="title"><a href="/blog/2008/09/03/recursion-quote/">Recursion Quote</a></h1>
	<div class="meta">
		<div class="date">








  


<time datetime="2008-09-03T15:29:00-06:00" pubdate data-updated="true">Sep 3<span>rd</span>, 2008</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/humor/'>Humor</a>, <a class='category' href='/blog/categories/quote/'>Quote</a>, <a class='category' href='/blog/categories/recursion/'>Recursion</a>


</div>
		
			<span class="comments"><a href="/blog/2008/09/03/recursion-quote/#disqus_thread">Comments</a></span>
		
	</div>
	<div class="entry-content">
		<div class='post'>
<p>I saw this quote on a message board in someone&#8217;s signature and thought it was just hilarious:</p>  <blockquote>   <p>&quot;In order to understand recursion, one must first understand recursion.&quot;</p> </blockquote>  <p>I can&#8217;t seem to find who originally said it.</p>  </div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>dave</div>
<div class='content'>
That was my email signature for many, many years, starting around 1991 &#8230; but I got it from some BBS&#39;s random tagline generator, so I can&#39;t take credit for it.</div>
</div>
</div>

		
		
	</div>

</article>


    <article class="post">
	<h1 class="title"><a href="/blog/2008/08/20/microsoft-windows-update-fails-on-every-update/">Microsoft/Windows Update Fails on Every Update</a></h1>
	<div class="meta">
		<div class="date">








  


<time datetime="2008-08-20T09:51:00-06:00" pubdate data-updated="true">Aug 20<span>th</span>, 2008</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/error/'>Error</a>, <a class='category' href='/blog/categories/microsoft/'>Microsoft</a>, <a class='category' href='/blog/categories/patching-updating/'>Patching/Updating</a>, <a class='category' href='/blog/categories/windows/'>Windows</a>


</div>
		
			<span class="comments"><a href="/blog/2008/08/20/microsoft-windows-update-fails-on-every-update/#disqus_thread">Comments</a></span>
		
	</div>
	<div class="entry-content">
		<div class='post'>
<p>Occasionally, Windows Update (or Microsoft Update) will see all of the updates you need (and possibly even download them) but will immediately fail all of the updates when trying to install them.&#160; Sometimes I have seen Windows Update error off after the green progress bar and before it can show me if there are any updates at all.</p>  <p>Every time this happens, I end up Googling the error code and finding the same fix every time (since I forget what the fix is each time).&#160; The error code I get is <font face="Courier New">0x80004002</font>.&#160; If you are unable to find the error code through the UI, you can check the Windows Update log at <font face="Courier New">%WINDIR%\WindowsUpdate.log</font> (which in my case, <font face="Courier New">%WINDIR%</font> translated to <font face="Courier New">C:\WINDOWS\</font>); you can even just type <font face="Courier New">%WINDIR%\WindowsUpdate.log</font> right into the &quot;<font face="Courier New">Run&#8230;</font>&quot; dialog.&#160; You can find the error code near the bottom of the log; just find the lines of text that have the same timestamp as when you unsuccessfully ran Windows Update.</p>  <p>Well, anyway, here&#8217;s the fix; run the following commands in a Command Prompt window (type <font face="Courier New">cmd</font> in the &quot;<font face="Courier New">Run&#8230;</font>&quot; dialog):</p>  <p><font face="Courier New">net stop wuauserv     <br />regsvr32 wups2.dll      <br />net start wuauserv</font></p>  <p>That&#8217;s all there is to it!&#160; It has worked every time for me.&#160; It may even be helpful to put these commands in a batch script (copy and paste the commands into <font face="Courier New">Notepad</font> and then save the text file with a <font face="Courier New">.bat</font> file extension) and keep the file in a place where you can easily find it again.</p>  </div>

		
		
	</div>

</article>

<nav id="pagenavi">
    
        <a href="/blog/page/8/" class="prev">Prev</a>
    
    
        <a href="/blog/page/10/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
			</div>
			<footer id="footer" class="inner">Copyright &copy; 2012

    Mike Murray


Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a>
</footer>
			<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'mkmurray';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-36228026-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



		</div>
		<div class="left-col">
			<header id="header" class="inner"><div class="profilepic">	
	<img src="/images/mkmurray.jpg" alt="Profile Picture">
</div>
<h1><a href="/">Mike Murray</a></h1>
<nav id="main-nav"><ul class="main">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

<br />
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:mkmurray.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>

</nav>
<br/>
<h3 class="alignleft">please code responsibly</h3>
<br/>
<br/>
<br/>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		<a class="facebook" href="http://www.facebook.com/mkmurray" title="Facebook">Facebook</a>
		
		
		<a class="google" href="https://plus.google.com/109073345657761090655?rel=author" title="Google+">Google+</a>
		
		
		<a class="twitter" href="http://twitter.com/mkmurray" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/mkmurray" title="GitHub">GitHub</a>
		
		
		<a class="linkedin" href="http://www.linkedin.com/in/mkmurray">LinkedIn</a>
		
		
		
		
		<a class="rss" href="http://feeds.feedburner.com/mkmurray/" title="RSS">RSS</a>
		
	</div>
</nav>

</header>				
		</div>	
	</div>
</body>
</html>
